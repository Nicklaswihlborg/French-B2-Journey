<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Comprehension — French B2 Journey</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body data-page="comprehension">
  <header class="topbar">
    <div class="brand">🇫🇷 French B2 Journey</div>
    <nav class="nav">
      <a href="index.html">Dashboard</a>
      <a href="comprehension.html" class="active">Comprehension</a>
      <a href="speaking.html">Speaking</a>
      <a href="listening.html">Listening</a>
      <a href="vocabulary.html">Vocabulary</a>
      <a href="phrases.html">Phrases</a>
      <a href="goals.html">Goals</a>
      <a href="calendar.html">Calendar</a>
      <a href="data.html">Data</a>
    </nav>
  </header>

  <main class="container">
    <!-- NEW: Sentence Flashcards (random) -->
    <section class="card">
      <h2>Sentence Flashcards (Everyday FR)</h2>
      <div class="fc">
        <div class="fc-card">
          <div class="fc-word" id="cf-front">—</div>
          <div class="muted" id="cf-info">Due: 0</div>
        </div>
        <div class="fc-actions">
          <button id="cf-speak" class="btn">🔊</button>
          <button id="cf-show" class="btn">Show</button>
          <button id="cf-dk" class="btn bad">Don’t know</button>
          <button id="cf-know" class="btn good">Know</button>
          <button id="cf-next" class="btn">Next</button>
        </div>
        <div id="cf-back" class="answer" style="display:none"></div>
        <p class="muted small">Works like the vocab flashcards: “Don’t know” boosts frequency; “Know” schedules forward.</p>
      </div>
    </section>

    <!-- Existing multi-mode comprehension -->
    <section class="card">
      <div class="tabs">
        <button class="tab active" data-t="mcq">MCQ</button>
        <button class="tab" data-t="cloze">Cloze</button>
        <button class="tab" data-t="sa">Short Answer</button>
        <button class="tab" data-t="tf">True/False</button>
      </div>

      <!-- MCQ -->
      <div id="pane-mcq">
        <div class="row wrap">
          <h2 id="mcqTitle" class="grow">—</h2>
          <button id="mcqLang" class="btn">Show EN</button>
          <button id="mcqSpeak" class="btn">🔊 Read</button>
          <button id="mcqNext" class="btn">Next ⟶</button>
        </div>
        <textarea id="mcqText" class="mono" rows="6" readonly></textarea>
        <div id="mcqOptions" class="mt"></div>
        <div class="row small"><span id="mcqResult" class="pill"></span></div>
      </div>

      <!-- Cloze -->
      <div id="pane-cloze" style="display:none">
        <div class="row wrap">
          <h2 id="clozeTitle" class="grow">—</h2>
          <button id="clozeLang" class="btn">Show EN</button>
          <button id="clozeSpeak" class="btn">🔊 Read</button>
          <button id="clozeNext" class="btn">Next ⟶</button>
        </div>
        <textarea id="clozeText" class="mono" rows="6" readonly></textarea>
        <div id="clozeBlanks" class="mt"></div>
        <button id="clozeCheck" class="btn">Check</button>
        <span id="clozeScore" class="pill small"></span>
      </div>

      <!-- Short Answer -->
      <div id="pane-sa" style="display:none">
        <div class="row wrap">
          <h2 id="saTitle" class="grow">—</h2>
          <button id="saLang" class="btn">Show EN</button>
          <button id="saSpeak" class="btn">🔊 Read</button>
          <button id="saNext" class="btn">Next ⟶</button>
        </div>
        <textarea id="saText" class="mono" rows="6" readonly></textarea>
        <textarea id="saInput" class="mono mt" rows="3" placeholder="Réponse courte (FR)…"></textarea>
        <button id="saScoreBtn" class="btn">Self-check</button>
        <span id="saScore" class="pill small"></span>
      </div>

      <!-- True/False -->
      <div id="pane-tf" style="display:none">
        <div class="row wrap">
          <h2 id="tfTitle" class="grow">—</h2>
          <button id="tfLang" class="btn">Show EN</button>
          <button id="tfSpeak" class="btn">🔊 Read</button>
          <button id="tfNext" class="btn">Next ⟶</button>
        </div>
        <textarea id="tfText" class="mono" rows="6" readonly></textarea>
        <div id="tfQ" class="mt"></div>
        <div class="row small"><span id="tfScore" class="pill"></span></div>
      </div>
    </section>
  </main>

  <script src="app.js" defer></script>
</body>
</html>
